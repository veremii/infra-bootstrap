# ==============================================
# Infrastructure Bootstrap Configuration
# ==============================================
# Copy this file to .env and fill in your values
# Required fields are marked with [REQUIRED]
# ==============================================

# === SSH Configuration ===
# SSH port for hardened configuration (default: 1255)
SSH_PORT=1255

# Admin user for system management
ADMIN_USER=admin
# [REQUIRED] SSH public key for admin user
# Generate with: ssh-keygen -t ed25519 -f ~/.ssh/admin_key
ADMIN_PUBKEY="ssh-ed25519 AAAAC3... your-key-here"

# Deploy user for application deployment
DEPLOY_USER=deployer
# [REQUIRED] SSH public key for deploy user
# Generate with: ssh-keygen -t ed25519 -f ~/.ssh/deploy_key
DEPLOY_PUBKEY="ssh-ed25519 AAAAC3... your-key-here"

# === WireGuard VPN Configuration ===
# Interface name (default: wg0)
WG_IF=wg0

# WireGuard listening port
WG_PORT=51820

# WireGuard server IP in private network
WG_SERVER_IP=10.88.0.1

# [REQUIRED] Your server's public IP address
# Auto-detected with: curl -s https://api.ipify.org
WG_ENDPOINT_IP=YOUR_PUBLIC_IP

# Allowed IPs for VPN clients
WG_ALLOWED_IPS=10.88.0.0/24

# MTU size (1420 is safe for most networks)
WG_MTU=1420

# === Edge Node Configuration ===
# Open HTTP/HTTPS ports on edge nodes during setup
EDGE_OPEN_HTTP=false

# === Traefik Configuration ===
# [REQUIRED] Email for Let's Encrypt certificates
TRAEFIK_ACME_EMAIL=admin@example.com

# Optional: Expose Traefik dashboard
# TRAEFIK_DASHBOARD_DOMAIN=traefik.example.com

# Optional: Basic auth for Traefik dashboard (htpasswd format)
# Generate with: htpasswd -nB admin
# BASIC_AUTH_HTPASSWD='admin:$2y$10$...'

# === Service Domains ===
# Optional: Configure domains for services
# GRAFANA_DOMAIN=grafana.example.com
# PORTAINER_DOMAIN=portainer.example.com

# === Docker Image Versions ===
# Override default versions if needed
# TRAEFIK_VERSION=v3.1
# LOKI_VERSION=2.9.6
# GRAFANA_VERSION=10.4.3
# PORTAINER_VERSION=2.20.3

# === Docker Swarm Configuration ===
# Node labels for service placement
# EDGE_LABEL=node.labels.role==edge
# APP_LABEL=node.labels.role==app

# === System Configuration ===
# Timezone (default: UTC)
TZ=UTC

# === Advanced Configuration ===
# Service name patterns for service-vars detection
# BE_NAME=backend
# FE_NAME=frontend
# TRF_NAME=traefik

# Stack names
# STACK_TRAEFIK=infra-traefik
# STACK_OBS=infra-obs
# STACK_PORTAINER=infra-portainer
